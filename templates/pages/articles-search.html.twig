{% extends "layout.html.twig" %}

{% block title %}
    Articles
    {{ parent() }}
{% endblock %}

{% block head %}
{% endblock %}

{% block main %}
    <main id="content" class="articles">
        <section class="all-products">
            <h1>Résultats</h1>
            {% for article in articles %}
                {% if article.stock != 0 %}
                    <article class="products">
                        <a href="index.php?route=article&id={{ article.id | raw }}">
                            <h3>{{ article.name | raw }}</h3>
                            <figure>
                                <img src="{{ article.image.getUrl() | raw }}" alt="{{ article.image.getAlt() | raw }}" />
                            </figure>
                        </a>
                        <div>
                            <a class="btn-add-to-cart" data-article="{{ article.id | raw }}">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </a>
                            <p class="price">{{ article.price | raw }} €</p>
                        </div>
                    </article>
                {% else %}
                    <article class="products">
                        <p class="out-of-stock">Rupture de stock</p>  
                        <a>
                            <h3>{{ article.name | raw }}</h3>
                            <figure>
                                <img src="{{ article.image.getUrl() | raw }}" alt="{{ article.image.getAlt() | raw }}" />
                            </figure>
                        </a>
                        <div>
                            <a class="cart-out-of-stock">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </a>
                            <p class="price">{{ article.price | raw }} €</p>
                        </div>
                    </article> 
                {% endif %}
            {% endfor %}
        </section>
    </main>
{% endblock %}

{% block javascript %}
{% endblock %}
